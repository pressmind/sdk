# Touristic: Booking Package

[← Back to Documentation](../../documentation.md) | [→ Date](../Date.md) | [→ Housing Package](../Housing/Package.md)

**Namespace:** `Pressmind\ORM\Object\Touristic\Booking\Package`

---

## Description

A Booking Package is a touristic offer with multiple services and departure dates. Each Booking Package is defined by a **fixed travel duration** (in days). A single product (MediaObject) can have multiple Booking Packages — for example, a "7-day" and a "14-day" variant of the same trip.

The Booking Package is the **root entity** of the touristic data model. It contains:
- **Dates** – departure/return dates with state and season
- **Housing Packages** – accommodation groups with room/cabin options
- **Extras, Tickets, Sightseeings** – optional bookable services
- **Price Mix** – defines how the base price (ab-Preis) is calculated

---

## Properties

| Property | Type | Required | Description |
|---|---|---|---|
| `id` | string(32) | yes | Primary key |
| `id_media_object` | integer | yes | Reference to the parent MediaObject |
| `name` | string(255) | no | Package name. Only display in frontend when multiple packages exist and duration alone is not sufficient to distinguish them |
| `duration` | float | yes | Travel duration in days. Half-day values (e.g. `3.5`) are allowed for legal compliance in certain travel types |
| `order` | integer | yes | Sort order |
| `url` | string(255) | no | Booking engine URL initialized at package level (rarely used) |
| `text` | string | no | Description text (rarely used) |
| `price_mix` | string(32) | yes | Defines how base prices are calculated. See [Price Mix Enum](#price-mix) |
| `id_insurance_group` | string(32) | no | Reference to the insurance group applicable to this package |
| `ibe_type` | integer | no | CRS system type that processes this package. See [IBE Type Enum](#ibe-type) |
| `product_type_ibe` | string(32) | no | CRS product type: `P` = package tour, `F` = destination, `T` = day trip |
| `id_origin` | integer | no | Data source / touristic origin. Within a single product, only data from one origin may be used. Default: `0` |
| `code` | string(32) | no | External code for CRS mapping |
| `variant_code` | string(32) | no | Variant code for assigning the package to itinerary stages (Etappenmodul) |
| `is_virtual_created_price` | boolean | no | `true` if the data was generated by the manual cheapest price feature (SDK-only field) |

### Relations

| Relation | Type | Description |
|---|---|---|
| `dates` | Date[] | Departure dates (1:n) |
| `housing_packages` | Housing\Package[] | Bookable accommodation groups (1:n) |
| `sightseeings` | Option[] | Bookable excursions (1:n, type=sightseeing) |
| `tickets` | Option[] | Bookable entrance tickets (1:n, type=ticket) |
| `extras` | Option[] | Bookable additional services (1:n, type=extra) |
| `insurance_group` | Group | Insurance offers for this package (n:n) |
| `itinerary_variants` | ItineraryVariant[] | Itinerary stage assignments (n:n) |

### Deprecated Properties

| Property | Note |
|---|---|
| `id_pickupservice` | Use Startingpoint instead |
| `pickupservice` | Use Startingpoint instead |
| `seasonal_periods` | Not supported in SDK |
| `type_of_travel` | Rarely used (Stadis export) |
| `request_code` | Rarely used (Stadis export) |
| `price_group` | CRS-specific (turista only) |
| `product_group` | CRS-specific (turista only) |
| `destination_airport` | Use Transport.code instead |

---

## Price Mix

The `price_mix` field defines how the **base price** (ab-Preis) is calculated for this package. The base price is the advertised minimum price shown in search results and teaser cards.

| Value | Description | Use Case |
|---|---|---|
| `date_housing` | Date + Transport + Required Options + **Housing Option** | Multi-day tours with accommodation (default, most common) |
| `date_transport` | Date + Transport + Required Options | Day trips without accommodation |
| `date_extra` | Date + Transport + Required Options + **Extra** | Day trips where an extra is part of the base price |
| `date_ticket` | Date + Transport + Required Options + **Ticket** | Event-based day trips |
| `date_sightseeing` | Date + Transport + Required Options + **Sightseeing** | Excursion-based day trips |
| `date_startingpoint` | deprecated | — |

> **Production Insight:** ~70% of packages use `date_housing`. Day trip packages (`date_transport`) are the second most common. See [CheapestPrice Aggregation](../../cheapest-price-aggregation.md) for the complete price calculation algorithm.

---

## IBE Type

Defines which CRS (Computer Reservation System) processes this package's booking data.

| Value | System |
|---|---|
| `1` | Pressmind IBE |
| `2` | Kuschick |
| `4` | Ib4Backend (turista ST, deprecated) |
| `5` | Toupac |
| `6` | DaVinci |
| `7` | Tourdata |
| `8` | Turista (API turista OBE) |

---

## Entity Relationship

```
MediaObject
 └── Booking Package (1:n)
      ├── Date (1:n)
      │    ├── Transport (1:n)
      │    │    └── Startingpoint (n:1)
      │    └── EarlyBirdDiscountGroup (n:1)
      ├── Housing Package (1:n)
      │    └── Option [type=housing_option] (1:n)
      ├── Option [type=extra] (1:n)
      ├── Option [type=ticket] (1:n)
      └── Option [type=sightseeing] (1:n)
```

---

## Related Documentation

- [CheapestPrice Aggregation](../../cheapest-price-aggregation.md) – How base prices are calculated from Booking Package data
- [Date](../Date.md) – Departure/return dates and their states
- [Option](../Option.md) – Services, accommodations, and their price_due modes
- [Transport](../Transport.md) – Transport pairs for outbound/return travel
- [Configuration: Touristic Data](../../config-touristic-data.md) – Import filters and offer generation settings
